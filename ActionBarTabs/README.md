This is the readme file for Action Bar Tabs demo

## Essential: Using Action Bar Tab navigation

- Combine [`ActionBar.Tab`](http://developer.android.com/reference/android/app/ActionBar.Tab.html)
and [`Fragment`](http://developer.android.com/reference/android/app/Fragment.html) to create tab views

- As for `MainActivity` to hold them,
	1. extend `android.support.v4.app.FragmentActivity`
	2. use `android.support.v4.view.ViewPager` in layout file

		```xml
		<android.support.v4.view.ViewPager
			android:id="@+id/pager"
			android:layout_width="match_parent"
			android:layout_height="match_parent">    
		</android.support.v4.view.ViewPager>
		```

	3. set the `ViewPager` with the `TabsPagerAdapter` that extends [`FragmentPagerAdapter`](http://developer.android.com/reference/android/support/v4/app/FragmentPagerAdapter.html), and add a [`ViewPager.OnPageChangeListener`](http://developer.android.com/reference/android/support/v4/view/ViewPager.OnPageChangeListener.html) to make the tab selected on swiping
		
		```java
		mAdapter = new TabsPagerAdapter(getSupportFragmentManager());
		viewPager = (ViewPager) findViewById(R.id.pager);
		viewPager.setAdapter(mAdapter);
		viewPager.setOnPageChangeListener(pageChangeListener);
		```

	4. set Action Bar in Tab Navtigation Mode and add tabs, which need to set up [`ActionBar.TabListener`](http://developer.android.com/reference/android/app/ActionBar.TabListener.html) to make the view changed automatically on selecting tab

		```java
		actionBar = getActionBar();
		actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
			...
		actionBar.addTab(actionBar.newTab().setText(tabName)
				.setTabListener(tabListener));
		```

	5. `TabsPagerAdapter` provides fragment views to tabs

		```java
		public class TabsPagerAdapter extends FragmentPagerAdapter {
			private static final int MAX_TABS = 10;

			public TabsPagerAdapter(FragmentManager fm) {
				super(fm);
			}

			@Override
			public Fragment getItem(int position) {
				// create a new instance for NewTab fragment
				return NewTab.newInstance(position);
			}

			@Override
			public int getCount() {
				return MAX_TABS;
			}

		}
		```

##### Note:

1. 
In current version, the number of Action Bar Tabs is limited by
`TabsPagerAdapter.getCount()` that represent the number of views available. 

	```java
	if (getTabCount() < mAdapter.getCount())
		addTab();
	```

	If not doing so, tabs will still be able to create, 
	but for those tabs whose position 
	( the argument in `TabsPagerAdapter.getItem(int)` ) exceeds this number, 
	`getItem()` won't create new fragment view for the new tab. 

2. 
[`view.ViewPager`](http://developer.android.com/reference/android/support/v4/view/ViewPager.html) 
allows the user to flip left/right through pages of view data generated by an implementation of a 
[`PagerAdapter`](http://developer.android.com/reference/android/support/v4/view/PagerAdapter.html). 
When the app lauches, if the return value of `getCount()` of the implementation 
(`TabsPagerAdapter` for example) is more than **1**, 
`PagerAdaper.getItem()` will create two instances fragment view 
so that the swiping feature provided by `ViewPager` can work.  
That is, the visible fragment view now has position **0**, 
its next position **1** will also create a new instance if possible.
Also, if the visible tab position view is at **1**, 
both views of its neighbor position **0** and **2** will be created.  

	This leads to a problem: 
	even if the action bar tab is not yet created, 
	`onPageChangeListener.onPageSelected(int)` will try to make the tab selected on swiping
	and thus cause runtime exception. 
	As a result, in current version, I just add a new tab 
	when swiping to non-existing tab.

	```java
	@Override
	public void onPageSelected(int position) {
		if (position >= actionBar.getTabCount())
			addTab();
		actionBar.setSelectedNavigationItem(position);
	}
	```

3. 
To solve the above issue, in the next version, 
`TabsPagerAdapter` needs to modify to enable dynamically adding views. 
The goal is to create as many tabs as wanted.

